<!doctype html>
<html lang="nl">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Tievie – inline X naast IMDb</title>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;800&display=swap" rel="stylesheet">
  <style>
    :root { --bg:#0b1b2b; --card:#0f2438; --muted:#dbe7f3; --accent:#ffd166; }
    * { box-sizing: border-box; }
    html,body { height:100%; }
    body { margin:0; background:linear-gradient(180deg,#0b1b2b, #16324c); color:#eef6ff; font:16px/1.45 "Inter",system-ui,Segoe UI,Roboto,Arial,sans-serif; }
    .wrap { max-width: 960px; margin: 24px auto; padding: 12px; }
    .card { background: rgba(255,255,255,.06); border:1px solid rgba(255,255,255,.1); border-radius: 16px; padding:16px; box-shadow: 0 10px 30px rgba(0,0,0,.25); }
    h1 { margin: 0 0 12px; font-weight: 800; letter-spacing: .2px; }
    .grid { display:grid; grid-template-columns: 340px 1fr; gap: 16px; }
    .poster { width: 100%; border-radius: 12px; background:#001320; aspect-ratio: 2/3; display:flex; align-items:center; justify-content:center; overflow: hidden; }
    .poster img { width: 100%; height:100%; object-fit: cover; }
    .badge-row { display:flex; align-items:center; gap:8px; margin: 12px 0 8px; }
    .badge { display:inline-flex; align-items:center; gap:8px; padding:8px 12px; border-radius:12px; background: var(--accent); color:#14202b; font-weight:700; }
    .badge small { font-weight:600; opacity:.85; }
    .field { display:grid; grid-template-columns: 160px 1fr; gap: 10px; align-items:center; margin: 8px 0; }
    input,select { padding:10px 12px; border-radius:10px; border:1px solid rgba(255,255,255,.25); background: rgba(255,255,255,.1); color:#fff; }
    .close-btn { position:absolute; top: 14px; right: 14px; width: 36px; height: 36px; border-radius: 9999px; border:1px solid rgba(255,255,255,.35); background: rgba(0,0,0,.35); color:#fff; font-size: 22px; line-height: 1; cursor:pointer; }
    .modal { position: relative; }
    /* inline verwijderknop naast de gele IMDb-badge */
    .delete-inline {
      width: 28px; height: 28px; border-radius: 9999px;
      display: inline-flex; align-items: center; justify-content: center;
      border: 1px solid rgba(0,0,0,.15); background: rgba(0,0,0,.06);
      font-size: 18px; line-height: 1; cursor: pointer;
    }
  </style>
</head>
<body>
  <!-- Config kun je later invullen; voor dit bestand is het niet vereist -->
  <script>
    window.__firebase_config = window.__firebase_config || null;
  </script>

  <div class="wrap">
    <div class="card modal" role="dialog" aria-modal="true" aria-label="Titel detail">
      <button class="close-btn" aria-label="Sluiten" title="Sluiten" onclick="alert('Sluiten / verwijderen')">×</button>
      <h1>The Royal Hotel</h1>
      <div class="grid">
        <div class="poster">
          <img src="https://image.tmdb.org/t/p/w500/1jx6dK3OPaR4HIX66vepQP9enZp.jpg" alt="Poster">
        </div>
        <div>
          <div class="badge-row">
            <div class="badge">IMDb N/B • <small>2023</small> • <small>N/B</small></div>
          </div>

          <div class="field">
            <label>Categorie</label>
            <input value="Film">
          </div>
          <div class="field">
            <label>Waar te bekijken</label>
            <select><option>Niet toegekend</option></select>
          </div>
          <div class="field">
            <label>Onze score</label>
            <input placeholder="Nog geen score">
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- Verplaats de X naast de gele IMDb-badge, zonder de rest te wijzigen -->
  <script>
  (function () {
    function moveX(modal) {
      if (!modal) return;
      const badge = Array.from(modal.querySelectorAll("*")).find(
        el => el.textContent && el.textContent.trim().startsWith("IMDb")
      );
      if (!badge) return;

      const originalX =
        modal.querySelector('[aria-label*="luit" i], [aria-label*="verwij" i], .btn-close, .close, button[title*="sluit" i], button[title*="verwij" i]') ||
        modal.querySelector(".close-btn");

      const inlineX = document.createElement("button");
      inlineX.className = "delete-inline";
      inlineX.type = "button";
      inlineX.title = "Verwijderen";
      inlineX.textContent = "×";
      inlineX.addEventListener("click", () => originalX && originalX.click());

      const row = badge.parentElement;
      row.style.display = "flex";
      row.style.alignItems = "center";
      row.style.gap = "8px";
      if (badge.nextSibling) {
        row.insertBefore(inlineX, badge.nextSibling);
      } else {
        row.appendChild(inlineX);
      }

      if (originalX) originalX.style.display = "none";
    }

    document.querySelectorAll('[role="dialog"], .modal').forEach(moveX);

    const obs = new MutationObserver(muts => {
      for (const m of muts) for (const n of m.addedNodes) {
        if (n.nodeType === 1 && (n.getAttribute?.("role") === "dialog" || n.classList?.contains("modal")))
          moveX(n);
      }
    });
    obs.observe(document.documentElement, { childList: true, subtree: true });
  })();
  </script>
</body>
</html>
